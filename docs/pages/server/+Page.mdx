import { Link } from '@brillout/docpress'

You can integrate Telefunc into any server, most notably servers that use:
- The [standard `Request` object](https://developer.mozilla.org/en-US/docs/Web/API/Request)
- The [Node.js `req` object](https://nodejs.org/api/http.html#http_class_http_incomingmessage)


## Standard `Request`

You can integrate Telefunc into any server that uses the standard `Request` object such as [Hono](https://hono.dev), [Next.js](https://nextjs.org), [Nitro](https://nitro.build), [Nuxt](https://nuxt.com), and [SvelteKit](https://svelte.dev/docs/kit).

For example Hono:

```ts
// server.ts
// Environment: server

import { Hono } from 'hono'
import { telefunc } from 'telefunc'

const app = new Hono()

app.all('/_telefunc', async (c) => {
  const httpResponse = await telefunc({ request: c.req.raw })
  return new Response(httpResponse.body, {
    status: httpResponse.statusCode,
    headers: { 'content-type': httpResponse.contentType },
    context: {
      // You can add any arbitrary contextual information here
    },
  })
})
```

> You can access `context` inside your telefunctions via <Link href="/getContext">`getContext()`</Link>.


## Node.js `req`

You can integrate Telefunc into any server that uses the Node.js `req` readable stream, such as [Express](https://expressjs.com) and [Fastify](https://fastify.dev).

For example Express:

```ts
// Environment: server

import express from 'express'
import { telefunc } from 'telefunc'

const app = express()

app.all('/_telefunc', async (req, res) => {
  const httpResponse = await telefunc({
    url: req.originalUrl,
    method: req.method,
    readable: req,
    contentType: req.headers['content-type'] || '',
    context: {
      // You can add any arbitrary contextual information here
    },
  })
  res.status(httpResponse.statusCode).type(httpResponse.contentType).send(httpResponse.body)
})
```

> You can access `context` inside your telefunctions via <Link href="/getContext">`getContext()`</Link>.


## See also

- <Link href="/telefunc" />
- <Link href="/getContext" />
